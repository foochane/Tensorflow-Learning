# 全连接网络

## 1 mnist数据集
### 1.1 数据集介绍

* 包含7万张黑底白字手写数字图片,其中 55000 张为训练集,
5000 张为验证集,10000 张为测试集。

* 每张图片大小为 28*28 像素,图片中纯黑色像素值为 0,纯白色像素值为 1。
* 数据集的标签是长度为 10 的一维数组,数组中每个元素索引号表示对应数字出现的概率。



### 1.2 数据集的导入

使用 `input_data` 模块中的 `read_data_sets()`函数加载 mnist 数据集:

```
>>>from tensorflow.examples.tutorials.mnist import input_data # 导入模块
mnist = input_data.read_data_sets("./data/", one_hot=True)
>>> mnist = input_data.read_data_sets("./data/", one_hot=True) #加载数据
Extracting ./data/train-images-idx3-ubyte.gz
Extracting ./data/train-labels-idx1-ubyte.gz
Extracting ./data/t10k-images-idx3-ubyte.gz
Extracting ./data/t10k-labels-idx1-ubyte.gz
>>> mnist.train.images[0] #查看图像数据
array([0.        , 0.        , 0.        , 0.        , 0.        ,
       0.        , 0.        , 0.        , 0.        , 0.        ,
       0.        , 0.        , 0.        , 0.        , 0.        ,
       ..........
       0.        , 0.        , 0.        , 0.        , 0.        ,
       0.        , 0.        , 0.        , 0.        , 0.        ,
       0.        , 0.        , 0.        , 0.        , 0.        ,
       0.        , 0.        , 0.        , 0.        ], dtype=float32)
>>> mnist.train.labels[0]  # 查看标签数据
array([0., 0., 0., 0., 0., 0., 0., 1., 0., 0.])
>>> x,y = mnist.train.next_batch(100)  # 批量导入数据
>>> x.shape
(100, 784)
>>> y.shape
(100, 10)
```

## 2 常用函数
### 2.1 tf.get_collection()函数
















### 代码结构：

mnist_forward.py: 前向传播
mnist_backward.py:反向传播
mnist_test.py:测试

### 代码运行：
```
python mnist_backward.py #训练
python mnist_test.py #查看训练的准确率
```


### 如何实现断点续训？
在反向传播的with结构中加入加载cktp的操作
```
 ckpt = tf.train.get_checkpoint_state(MODEL_SAVE_PATH)
        if ckpt and ckpt.model_checkpoint_path:
            saver.restore(sess, ckpt.model_checkpoint_path)

```

fc2和fc1的代码，fc2实现了断点续训，其他地方完全相同。